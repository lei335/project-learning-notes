以太坊账户私钥用密码加密过程：
https://ethfans.org/posts/what-is-an-ethereum-keystore-file

scrypt算法：
SHA-256与MD5类似，是一种将比特位洗牌、置换的算法，它的性能与内存空间没有关系，只与CPU处理速度有关；SHA-256算法简单，导致GPU矿机、FPGA矿机、ASIC矿机在比特币领域大行其道，矿厂、矿池完全垄断了比特币挖矿领域，个人用户想挖到比特币~嗯，想都别想。

SHA-256提高了复杂度和运算量，但是也没有太大的提高，因此CPU、GPU、FPGA、专用ASIC可以非常快速地计算出SHA-256的结果，这让矿厂矿池可以用极低地成本部署大量矿机并行挖取比特币。

Scrypt是一种KDF算法，KDF是密钥导出功能的意思，主要适用于生成密钥，目的是为了避免黑客低成本地大量产生密钥去试探密码，而Scrypt的这个效果正好被用在莱特币nonce碰撞中，避免了矿厂矿池低成本挖矿。
Scrypt算法运行中会占用大量内存，而内存的硬件层本较高，使得矿厂矿池不可能低成本大量挖矿。
Scrypt算法会产生一个p个块元素的数组，p的值大概比2^31（42亿）小几个数量级，实际使用中可能是十万~百万级别吧？对于每个块元素，都是进行一系列复杂运算生成的哈希值，最后对整个数组再进行PBKDF2-HMAC-SHA256运算得到最终结果。
Scrypt算法保证只有将每个元素都存放在内存中，最后才能算出正确的结果，从算法层面保证了对大量内存空间的硬需求，从而提高了运算成本。

加密存储私钥的过程：
1. 将我们输入的 password 和随机生成的32 byte的 salt 进行 scrypt 加密，会得到一个32 byte的 derivedKey 
2. 用 derivedKey 的前16 byte与随机生成的16 byte的iv对 privateKey 进行aes加密，得到32 byte的 cipherText 
3. 将 derivedKey 的后16 byte与 cipherText 进行 Keccak256 ，得到一个32 byte的mac
4. 将数据写入文件
5. 密码password可以由数字、字母、下划线、短横线、@、#、%组成，目前长度为16也可以接受。
